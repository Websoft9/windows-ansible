(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{196:function(t,r,e){"use strict";e.r(r);var v=e(0),s=Object(v.a)({},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"安装网站"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装网站","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装网站")]),t._v(" "),e("p",[t._v("在 WampServer 环境上安装一个网站，也就是我们常说的增加一个虚拟主机。")]),t._v(" "),e("p",[t._v("宏观上看，只需两个步骤："),e("strong",[t._v("上传网站代码")]),t._v(" + "),e("router-link",{attrs:{to:"/zh/stack-components.html#apache"}},[e("strong",[t._v("虚拟机主机配置文件（httpd-vhosts.conf）")])]),t._v(" "),e("strong",[t._v("中增加 VirtualHost 配置段")])],1),t._v(" "),e("blockquote",[e("p",[t._v("VirtualHost 又称之为虚拟主机配置段，每个网站必定在 httpd-vhosts.conf 中对应唯一的 VirtualHost。")])]),t._v(" "),e("h2",{attrs:{id:"准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备","aria-hidden":"true"}},[t._v("#")]),t._v(" 准备")]),t._v(" "),e("p",[t._v("安装网站之前，请了解如下几个要点，做好准备工作")]),t._v(" "),e("ul",[e("li",[t._v("虚拟机主机配置文件："),e("em",[t._v("C:\\websoft9\\wampserver\\bin\\apache\\apache2.4.x\\conf\\extra\\httpd-vhosts.conf")])]),t._v(" "),e("li",[t._v("连接工具：使用 Windows自带的远程桌面工具 连接服务器")]),t._v(" "),e("li",[t._v("域名：若需要使用域名，请确保备案后的域名成功解析到服务器IP")]),t._v(" "),e("li",[t._v("数据库：网站安装向导过程中可能需要使用数据库，请使用 "),e("router-link",{attrs:{to:"/zh/admin-mysql.html"}},[t._v("phpMyAdmin 管理数据库")])],1)]),t._v(" "),e("p",[t._v("有一个宏观认知之后，我们开始部署网站")]),t._v(" "),e("h2",{attrs:{id:"安装第一个网站"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装第一个网站","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装第一个网站")]),t._v(" "),e("p",[t._v("下面通过"),e("strong",[t._v("替换示例网站")]),t._v("（WampServer 默认存在一个示例网站）的方式来教你安装你的第一个网站：")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("使用 远程桌面工具 连接服务器")])]),t._v(" "),e("li",[e("p",[t._v("删除示例网站 "),e("em",[t._v("C:\\websoft9\\wampserver\\www\\www.example.com")]),t._v(" 下的所有文件（保留目录）\n"),e("img",{attrs:{src:"https://libs.websoft9.com/Websoft9/DocsPicture/zh/wampserver/wampserver-exadr-websoft9.png",alt:""}})])]),t._v(" "),e("li",[e("p",[t._v("将本地电脑上的网站源码上传到示例目录下")])]),t._v(" "),e("li",[e("p",[t._v("修改 "),e("em",[t._v("httpd-vhosts.conf")]),t._v(" 中已有 VirtualHost 配置段（"),e("router-link",{attrs:{to:"/zh/solution-deployment.html#virtualhost"}},[t._v("修改参考")]),t._v("），实现绑定域名、修改网站目录名称等操作。\n"),e("img",{attrs:{src:"https://libs.websoft9.com/Websoft9/DocsPicture/zh/wampserver/wampserver-mddfvhost-websoft9.png",alt:""}})],1),t._v(" "),e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[t._v("如果不绑定域名、不修改网站目录名称，请跳过步骤4和5")])])]),t._v(" "),e("li",[e("p",[t._v("保存 httpd-vhosts.conf，然后 "),e("router-link",{attrs:{to:"/zh/admin-services.html"}},[t._v("重启所有服务")])],1)]),t._v(" "),e("li",[e("p",[t._v("本地浏览器访问："),e("em",[t._v("http://域名")]),t._v(" 或 "),e("em",[t._v("http://服务器公网IP")]),t._v(" 即可访问您的网站")])])]),t._v(" "),e("h2",{attrs:{id:"安装第二个网站"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装第二个网站","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装第二个网站")]),t._v(" "),e("p",[t._v("从安装第二个网站开始，需要在"),e("em",[t._v("httpd-vhosts.conf")]),t._v(" 中增加对应的虚拟主机配置段，具体如下")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("使用 远程桌面 连接服务器，在 C:\\websoft9\\wampserver\\www 下新建一个网站目录，假设命令为“mysite2”\n"),e("img",{attrs:{src:"https://libs.websoft9.com/Websoft9/DocsPicture/zh/wampserver/wampserver-addmysite2-websoft9.png",alt:""}})])]),t._v(" "),e("li",[e("p",[t._v("将本地网站源文件上传到："),e("em",[t._v("C:\\websoft9\\wampserver\\www\\mysite2")])])]),t._v(" "),e("li",[e("p",[t._v("编辑 httpd-vhosts.conf 文件\n"),e("img",{attrs:{src:"https://libs.websoft9.com/Websoft9/DocsPicture/zh/wampserver/wampserver-addmorevhostconfig-websoft9.png",alt:""}})]),t._v(" "),e("p",[t._v("根据是否通过域名访问，选择下面操作之一：")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("有域名，通过 http://域名 访问网站")])])]),t._v(" "),e("p",[t._v("请将下面 VirtualHost 模板拷贝到 httpd-vhosts.conf 中，并修改其中的ServerName, DocumentRoot, ErrorLog, CusomLog, Directory等项的值")]),t._v(" "),e("pre",[e("code",[t._v('```\n<VirtualHost *:80>\nServerName www.mydomain.com\n# ServerAlias other.mydomain.com\nDocumentRoot "C:\\websoft9\\wampserver\\www\\mysite2"\nErrorLog "logs\\mydomain.com_error_apache.log"\nCustomLog "logs\\mydomain.com_error_apache.log" common\n<Directory "C:\\websoft9\\wampserver\\www\\mysite2">\nOptions Indexes FollowSymlinks\nAllowOverride All\nRequire all granted\n</Directory>\n</VirtualHost>\n ```\n')])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("没有域名，通过 http://IP/mysite2 访问网站")])])]),t._v(" "),e("p",[t._v("请将下面 Alias 模板拷贝到 httpd-vhosts.conf 中，并修改其中的 /path, Directory等项的值")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('Alias /sitename C:\\websoft9\\wampserver\\www\\mysite2\n<Directory "C:\\websoft9\\wampserver\\www\\mysite2">\n   Options Indexes FollowSymlinks\n   AllowOverride All\n   Require all granted\n  </Directory>\n')])])])]),t._v(" "),e("li",[e("p",[t._v("保存 httpd-vhosts.conf，然后 "),e("router-link",{attrs:{to:"/zh/admin-services.html"}},[t._v("重启所有服务")])],1)]),t._v(" "),e("li",[e("p",[t._v("根据有无域名，本地浏览器访问："),e("em",[t._v("http://域名")]),t._v(" 或 "),e("em",[t._v("http://服务器公网IP/sitename")]),t._v("  访问你的网站。")])])]),t._v(" "),e("h2",{attrs:{id:"安装第-n-个网站"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装第-n-个网站","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装第 N 个网站")]),t._v(" "),e("p",[t._v("安装第n个网站与安装第二个网站的操作步骤一模一样")]),t._v(" "),e("p",[t._v("最后我们温故而知新，总结 WampServer 安装网站步骤：")]),t._v(" "),e("ol",[e("li",[t._v("上传网站代码")]),t._v(" "),e("li",[t._v("绑定域名（非必要）")]),t._v(" "),e("li",[t._v("新增站点配置或修改示例站点配置")]),t._v(" "),e("li",[t._v("增加网站对应的数据库（非必要）")]),t._v(" "),e("li",[t._v("进入安装向导")])]),t._v(" "),e("h2",{attrs:{id:"virtualhost"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#virtualhost","aria-hidden":"true"}},[t._v("#")]),t._v(" VirtualHost")]),t._v(" "),e("p",[t._v("VirtualHost 改动务必准确无误，任何错误的修改都会导致服务器上所有的网站不可访问")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("VirtualHost 项")]),t._v(" "),e("th",[t._v("作用说明")]),t._v(" "),e("th",[t._v("必要性")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("ServerName")]),t._v(" "),e("td",[t._v("主域名")]),t._v(" "),e("td",[t._v("必须填写")])]),t._v(" "),e("tr",[e("td",[t._v("ServerAlias")]),t._v(" "),e("td",[t._v("辅域名")]),t._v(" "),e("td",[t._v("可以不填或删除")])]),t._v(" "),e("tr",[e("td",[t._v("DocumentRoot")]),t._v(" "),e("td",[t._v("网站存放目录，同下")]),t._v(" "),e("td",[t._v("务必准确无误")])]),t._v(" "),e("tr",[e("td",[t._v("Directory")]),t._v(" "),e("td",[t._v("网站存放目录，同上")]),t._v(" "),e("td",[t._v("务必准确无误")])]),t._v(" "),e("tr",[e("td",[t._v("ErrorLog")]),t._v(" "),e("td",[t._v("错误日志路径，系统会根据定义的路径产生相关日志文件")]),t._v(" "),e("td",[t._v("可以不填或删除")])]),t._v(" "),e("tr",[e("td",[t._v("CustomLog")]),t._v(" "),e("td",[t._v("访问日志路径，系统会根据定义的路径产生相关日志文件")]),t._v(" "),e("td",[t._v("可以不填或删除")])])])]),t._v(" "),e("h2",{attrs:{id:"常见问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常见问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),e("h4",{attrs:{id:"找不到示例网站？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#找不到示例网站？","aria-hidden":"true"}},[t._v("#")]),t._v(" 找不到示例网站？")]),t._v(" "),e("p",[t._v("历史版本中历史网站路径与文档中描述有差异"),e("br"),t._v("\n历史版本的示例网站路径为：C:\\websoft9\\wampstack\\www")]),t._v(" "),e("h4",{attrs:{id:"修改-httpd-vhosts-conf-文件之后，apache-服务无法启动？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改-httpd-vhosts-conf-文件之后，apache-服务无法启动？","aria-hidden":"true"}},[t._v("#")]),t._v(" 修改 httpd-vhosts.conf 文件之后，Apache 服务无法启动？")]),t._v(" "),e("p",[t._v("一般是 VirtualHost 中虚拟主机的目录位置不正确导致")]),t._v(" "),e("h4",{attrs:{id:"新增网站不可访问，且导致其他网站都不可访问？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#新增网站不可访问，且导致其他网站都不可访问？","aria-hidden":"true"}},[t._v("#")]),t._v(" 新增网站不可访问，且导致其他网站都不可访问？")]),t._v(" "),e("p",[t._v("一般是 VirtualHost 中虚拟主机的目录位置不正确导致 Apache 无法启动")]),t._v(" "),e("h4",{attrs:{id:"打开新增的网站，显示404错误？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#打开新增的网站，显示404错误？","aria-hidden":"true"}},[t._v("#")]),t._v(" 打开新增的网站，显示404错误？")]),t._v(" "),e("p",[t._v("一般是网站目录下没有 index.php 或 index.html 等默认首页导致")]),t._v(" "),e("h4",{attrs:{id:"新增的网站，显示-500-internal-server-error？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#新增的网站，显示-500-internal-server-error？","aria-hidden":"true"}},[t._v("#")]),t._v(" 新增的网站，显示 500 Internal Server Error？")]),t._v(" "),e("p",[t._v("程序代码错误，需要查看程序的日志文件")]),t._v(" "),e("h4",{attrs:{id:"总是显示9panel？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总是显示9panel？","aria-hidden":"true"}},[t._v("#")]),t._v(" 总是显示9Panel？")]),t._v(" "),e("p",[t._v("请删除示例中的index文件，并清空浏览器缓存")])])},[],!1,null,null,null);r.default=s.exports}}]);